import{b as ce,r as v,j as e}from"./app-DoPWTTfF.js";import{c as se,B as S}from"./button-ve-6vPrQ.js";import{C as T,a as $e,d as Be,b as ds}from"./card-B40xIBSB.js";import{u as be}from"./useToast-DH2i-Qux.js";import{B as ye,D as Ne,C as Le}from"./download-BT2AyQ13.js";import{e as cs,L as ms,S as ps,a as us,b as xs,c as hs,d as de}from"./select-MqY_4vRd.js";import{P as Ae,C as ae,U as me}from"./upload-BFaA4OVZ.js";import{c as Y}from"./createLucideIcon-DlXnowyG.js";import{Z as ke}from"./zap-BSjODH3C.js";import{C as pe,S as fs}from"./share-2-pFuKHlqv.js";import{C as Ee}from"./circle-alert-6pFlA5c0.js";import{D as gs}from"./database-C5Q3pzmx.js";import{F as js}from"./file-text-CSq2mXiU.js";import{E as vs}from"./eye-BWBNtsiV.js";import{L as Ns}from"./Layout-DjuX2mY_.js";import{L as ws}from"./lock-DSFTxmHq.js";/* empty css            */import"./index-C87LH4oZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ys=Y("Activity",bs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],je=Y("ExternalLink",ks);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],we=Y("File",Cs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Oe=Y("LoaderCircle",Ss);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Me=Y("Pause",Us);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Ie=Y("Play",Ds);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],qe=Y("TrendingUp",Fs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ve=Y("X",_s);function Re(s){if(s===0)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB","TB"],p=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,p)).toFixed(2))+" "+a[p]}function Es(s,t=10*1024*1024*1024){return s.size>t?{code:"FILE_TOO_LARGE",message:`File size (${Re(s.size)}) exceeds maximum allowed size (${Re(t)})`,details:{file_size:s.size,max_size:t}}:s.size===0?{code:"EMPTY_FILE",message:"Cannot upload empty files"}:null}function Ms(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function Is(s){return s.response?.data?.error?{code:s.response.data.error.code||"SERVER_ERROR",message:s.response.data.error.message||"Server error occurred",details:s.response.data.error.details}:s.response?.status===413?{code:"FILE_TOO_LARGE",message:"File size exceeds server limits"}:s.response?.status===429?{code:"RATE_LIMIT_EXCEEDED",message:"Too many requests. Please try again later.",details:{retry_after:s.response.headers["retry-after"]}}:s.code==="ECONNABORTED"||s.message?.includes("timeout")?{code:"TIMEOUT_ERROR",message:"Request timed out. Please try again."}:s.response?{code:"UNKNOWN_ERROR",message:s.message||"An unknown error occurred"}:{code:"NETWORK_ERROR",message:"Network error. Please check your connection."}}ce.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const Pe=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");Pe&&(ce.defaults.headers.common["X-CSRF-TOKEN"]=Pe);class ee{static instance;baseURL;axiosInstance;maxRetries=3;retryDelay=1e3;constructor(){this.baseURL="/api",this.axiosInstance=ce.create({baseURL:this.baseURL,timeout:3e5}),this.setupInterceptors()}static getInstance(){return ee.instance||(ee.instance=new ee),ee.instance}setupInterceptors(){this.axiosInstance.interceptors.request.use(t=>(t.method==="get"&&(t.params={...t.params,_t:Date.now()}),t),t=>(console.error("Request interceptor error:",t),Promise.reject(t))),this.axiosInstance.interceptors.response.use(t=>t,async t=>{const a=t.config;if(t.response?.status===401&&console.warn("Unauthorized request"),t.response?.status===429){const p=t.response.headers["retry-after"];if(p&&!a._retry)return a._retry=!0,await this.delay(parseInt(p)*1e3),this.axiosInstance(a)}if(this.shouldRetry(t)&&!a._retry&&(a._retry=!0,a._retryCount=(a._retryCount||0)+1,a._retryCount<=this.maxRetries)){const p=this.retryDelay*Math.pow(2,a._retryCount-1);return await this.delay(p),this.axiosInstance(a)}return Promise.reject(t)})}shouldRetry(t){return!t.response||t.response.status>=500||t.response.status===408||t.response.status===429}delay(t){return new Promise(a=>setTimeout(a,t))}async uploadFile(t,a){const p=this.validateFile(t);if(p)throw p;const d=new FormData;d.append("file",t),d.append("request_id",Ms()),a?.expirationDays!==void 0&&d.append("expiration_days",String(a.expirationDays));try{const u=await this.axiosInstance.post("/upload",d,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:g=>{if(g.total&&a?.onProgress){const x=g.loaded/g.total*100;a.onProgress(x)}}});if(!u.data.success||!u.data.data)throw new Error(u.data.error?.message||"Upload failed");return u.data.data}catch(u){throw this.handleError(u)}}async getUploadConfig(){return(await this.axiosInstance.get("/upload/config")).data.data}async initChunkedUpload(t,a,p){try{const d=new FormData;d.append("action","init"),d.append("original_name",t.name),d.append("total_size",String(t.size)),d.append("mime_type",t.type),d.append("chunk_size",String(a)),p!=null&&d.append("expiration_days",String(p));const u=await this.axiosInstance.post("/upload/chunk",d,{headers:{"Content-Type":"multipart/form-data"}});if(!u.data.success||!u.data.data)throw new Error(u.data.error?.message||"Failed to initialize upload");return u.data.data}catch(d){throw this.handleError(d)}}async uploadChunk(t,a,p,d){const u=new FormData;u.append("session_id",t),u.append("chunk_index",String(a)),u.append("chunk",p);try{const g=await this.axiosInstance.post("/upload/chunk",u,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:x=>{if(x.total&&d){const m=x.loaded/x.total*100;d(m)}}});if(!g.data.success||!g.data.data)throw new Error(g.data.error?.message||"Chunk upload failed");return g.data.data}catch(g){throw this.handleError(g)}}async finalizeChunkedUpload(t){try{const a=await this.axiosInstance.post("/upload/finalize",{session_id:t});if(!a.data.success||!a.data.data)throw new Error(a.data.error?.message||"Failed to finalize upload");return a.data.data}catch(a){throw this.handleError(a)}}async getFileInfo(t){try{const a=await this.axiosInstance.get(`/file/${t}/info`);if(!a.data.success||!a.data.data)throw new Error(a.data.error?.message||"Failed to get file info");return a.data.data}catch(a){throw this.handleError(a)}}cancelAllRequests(){this.axiosInstance=ce.create({baseURL:this.baseURL,timeout:3e5}),this.setupInterceptors()}setTimeout(t){this.axiosInstance.defaults.timeout=t}setRetryConfig(t,a){this.maxRetries=t,this.retryDelay=a}async healthCheck(){try{return(await this.axiosInstance.get("/health")).status===200}catch{return!1}}validateFile(t){return Es(t)}handleError(t){return Is(t)}}ee.getInstance();var Ce="Progress",Se=100,[Rs,ut]=cs(Ce),[Ps,zs]=Rs(Ce),He=v.forwardRef((s,t)=>{const{__scopeProgress:a,value:p=null,max:d,getValueLabel:u=Ts,...g}=s;(d||d===0)&&!ze(d)&&console.error($s(`${d}`,"Progress"));const x=ze(d)?d:Se;p!==null&&!Te(p,x)&&console.error(Bs(`${p}`,"Progress"));const m=Te(p,x)?p:null,U=ue(m)?u(m,x):void 0;return e.jsx(Ps,{scope:a,value:m,max:x,children:e.jsx(Ae.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":ue(m)?m:void 0,"aria-valuetext":U,role:"progressbar","data-state":Xe(m,x),"data-value":m??void 0,"data-max":x,...g,ref:t})})});He.displayName=Ce;var We="ProgressIndicator",Ke=v.forwardRef((s,t)=>{const{__scopeProgress:a,...p}=s,d=zs(We,a);return e.jsx(Ae.div,{"data-state":Xe(d.value,d.max),"data-value":d.value??void 0,"data-max":d.max,...p,ref:t})});Ke.displayName=We;function Ts(s,t){return`${Math.round(s/t*100)}%`}function Xe(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function ue(s){return typeof s=="number"}function ze(s){return ue(s)&&!isNaN(s)&&s>0}function Te(s,t){return ue(s)&&!isNaN(s)&&s<=t&&s>=0}function $s(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Se}\`.`}function Bs(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Se} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ls=He,As=Ke;function xe({className:s,value:t,...a}){return e.jsx(Ls,{"data-slot":"progress",className:se("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...a,children:e.jsx(As,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const Os=({file:s,progress:t,status:a,error:p,uploadedBytes:d,speed:u,eta:g,isChunked:x=!1,chunkInfo:m,fileId:U,downloadUrl:$,isDuplicate:n=!1,spaceSaved:D,onCancel:j,onPauseResume:N,onRetry:F,onRemove:w,className:P})=>{const[_,B]=v.useState(0),[X,Q]=v.useState(0),[z,R]=v.useState(0),[b,I]=v.useState([]);v.useEffect(()=>{if(u!==void 0){I(O=>{const K=[...O,u].slice(-10),G=K.reduce((re,ne)=>re+ne,0)/K.length;return R(G),K});const A=(u-_)*.3;B(O=>O+A)}if(g!==void 0){const A=(g-X)*.2;Q(O=>Math.max(0,O+A))}},[u,g,_,X]);const k=E=>{if(E===0)return"0 B";const A=1024,O=["B","KB","MB","GB","TB"],K=Math.floor(Math.log(E)/Math.log(A));return`${parseFloat((E/Math.pow(A,K)).toFixed(1))} ${O[K]}`},V=E=>`${k(E)}/s`,oe=E=>E<60?`${Math.round(E)}s`:E<3600?`${Math.floor(E/60)}m ${Math.round(E%60)}s`:`${Math.floor(E/3600)}h ${Math.floor(E%3600/60)}m`,te=(()=>{switch(a){case"pending":return{color:"text-muted-foreground",bgColor:"bg-muted",icon:e.jsx(pe,{className:"h-4 w-4"}),label:"Pending"};case"uploading":return{color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20",icon:e.jsx(Oe,{className:"h-4 w-4 animate-spin"}),label:"Uploading"};case"paused":return{color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20",icon:e.jsx(Me,{className:"h-4 w-4"}),label:"Paused"};case"completed":return{color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900/20",icon:e.jsx(ae,{className:"h-4 w-4"}),label:n?"Duplicate Found":"Completed"};case"error":return{color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900/20",icon:e.jsx(Ee,{className:"h-4 w-4"}),label:"Error"};case"cancelled":return{color:"text-gray-600",bgColor:"bg-gray-100 dark:bg-gray-900/20",icon:e.jsx(ve,{className:"h-4 w-4"}),label:"Cancelled"};default:return{color:"text-muted-foreground",bgColor:"bg-muted",icon:e.jsx(we,{className:"h-4 w-4"}),label:"Unknown"}}})();return e.jsxs(T,{className:se("transition-all duration-300",P),children:[e.jsx($e,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 items-start gap-3",children:[e.jsx("div",{className:"mt-1 flex-shrink-0",children:e.jsx(we,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("h4",{className:"truncate text-sm font-medium",title:s.name,children:s.name}),e.jsxs(ye,{variant:"secondary",className:se("text-xs",te.bgColor,te.color),children:[te.icon,e.jsx("span",{className:"ml-1",children:te.label})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsx("span",{children:k(s.size)}),x&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"h-3 w-3"}),"Chunked Upload"]}),n&&e.jsxs("span",{className:"font-medium text-green-600",children:["Saved ",k(D||0)]})]})]})]}),e.jsxs("div",{className:"flex flex-shrink-0 items-center gap-1",children:[a==="uploading"&&N&&e.jsx(S,{variant:"ghost",size:"sm",onClick:N,className:"h-8 w-8 p-0",title:"Pause upload",children:e.jsx(Me,{className:"h-4 w-4"})}),a==="paused"&&N&&e.jsx(S,{variant:"ghost",size:"sm",onClick:N,className:"h-8 w-8 p-0",title:"Resume upload",children:e.jsx(Ie,{className:"h-4 w-4"})}),(a==="uploading"||a==="pending")&&j&&e.jsx(S,{variant:"ghost",size:"sm",onClick:j,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Cancel upload",children:e.jsx(ve,{className:"h-4 w-4"})}),a==="error"&&F&&e.jsx(S,{variant:"ghost",size:"sm",onClick:F,className:"h-8 w-8 p-0",title:"Retry upload",children:e.jsx(Ie,{className:"h-4 w-4"})}),a==="completed"&&$&&e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>window.open($,"_blank"),className:"h-8 w-8 p-0",title:"Download file",children:e.jsx(Ne,{className:"h-4 w-4"})}),(a==="completed"||a==="error"||a==="cancelled")&&w&&e.jsx(S,{variant:"ghost",size:"sm",onClick:w,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",title:"Remove from list",children:e.jsx(ve,{className:"h-4 w-4"})})]})]})}),e.jsxs(Be,{className:"pt-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[k(d)," / ",k(s.size)]}),e.jsxs("span",{className:"font-mono font-medium",children:[Math.round(t),"%"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{value:t,className:"h-2 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-800"}),a==="uploading"&&e.jsx("div",{className:"absolute top-0 left-0 h-full overflow-hidden rounded-full",style:{width:`${t}%`,background:"linear-gradient(90deg, #FE7131, #F88F21)",transition:"width 0.3s ease"},children:e.jsx("div",{className:"animate-shimmer absolute inset-0 bg-[linear-gradient(90deg,rgba(255,255,255,0.3)_0%,rgba(255,255,255,0)_50%,rgba(255,255,255,0.3)_100%)]"})}),a==="completed"&&e.jsx("div",{className:"absolute top-0 left-0 h-full w-full rounded-full bg-green-500"}),a==="error"&&e.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-red-500",style:{width:`${t}%`}})]})]}),(a==="uploading"||a==="paused")&&e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(qe,{className:"h-3 w-3"}),e.jsx("span",{children:"Speed"})]}),e.jsx("div",{className:"font-mono font-medium",children:_>0?V(_):"â€”"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(pe,{className:"h-3 w-3"}),e.jsx("span",{children:"Time Left"})]}),e.jsx("div",{className:"font-mono font-medium",children:X>0?oe(X):"â€”"})]})]}),x&&m&&a==="uploading"&&e.jsxs("div",{className:"mt-4 rounded-lg bg-muted/50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Chunk Progress"}),e.jsxs("span",{className:"font-mono font-medium",children:[m.currentChunk," / ",m.totalChunks]})]}),e.jsx("div",{className:"mt-2",children:e.jsx(xe,{value:m.currentChunk/m.totalChunks*100,className:"h-1"})}),e.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Chunk size: ",k(m.chunkSize)]})]}),a==="error"&&p&&e.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-900/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ee,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-red-600"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Upload Failed"}),e.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:p})]})]})}),a==="completed"&&n&&e.jsx("div",{className:"mt-4 rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-800 dark:bg-green-900/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ae,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-green-600"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Duplicate File Detected"}),e.jsxs("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:["This file already exists. Saved ",k(D||0)," of storage space."]})]})]})})]})]})},qs=({totalFiles:s,completedFiles:t,failedFiles:a,activeUploads:p,totalBytes:d,uploadedBytes:u,overallSpeed:g,overallEta:x,chunkedUploads:m=0,spaceSaved:U=0,showDetailed:$=!0,className:n})=>{const[D,j]=v.useState(0),[N,F]=v.useState(0),[w,P]=v.useState([]);v.useEffect(()=>{if(g!==void 0){P(k=>[...k,g].slice(-20));const I=(g-D)*.2;j(k=>Math.max(0,k+I))}if(x!==void 0){const I=(x-N)*.15;F(k=>Math.max(0,k+I))}},[g,x,D,N]);const _=b=>{if(b===0)return"0 B";const I=1024,k=["B","KB","MB","GB","TB"],V=Math.floor(Math.log(b)/Math.log(I));return`${parseFloat((b/Math.pow(I,V)).toFixed(1))} ${k[V]}`},B=b=>`${_(b)}/s`,X=b=>b<60?`${Math.round(b)}s`:b<3600?`${Math.floor(b/60)}m ${Math.round(b%60)}s`:`${Math.floor(b/3600)}h ${Math.floor(b%3600/60)}m`,Q=d>0?u/d*100:0,z=s>0?t/s*100:0,R=w.length>0?Math.max(...w):0;return w.length>0&&w.reduce((b,I)=>b+I,0)/w.length,e.jsxs(T,{className:se("",n),children:[e.jsx($e,{className:"pb-4",children:e.jsxs(ds,{className:"flex items-center gap-2 text-lg",children:[e.jsx(ys,{className:"h-5 w-5"}),"Upload Statistics",p>0&&e.jsxs(ye,{variant:"secondary",className:"ml-auto",children:[e.jsx(me,{className:"h-3 w-3 mr-1"}),p," active"]})]})}),e.jsxs(Be,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm font-mono",children:[Math.round(Q),"%"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{value:Q,className:"h-3"}),p>0&&e.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-gradient-to-r from-primary to-accent",style:{width:`${Q}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[_(u)," / ",_(d)]}),e.jsxs("span",{children:[t," / ",s," files"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"File Progress"}),e.jsxs("span",{className:"text-sm font-mono",children:[Math.round(z),"%"]})]}),e.jsx(xe,{value:z,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{children:"Current Speed"})]}),e.jsx("div",{className:"text-lg font-mono font-semibold",children:D>0?B(D):"â€”"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Time Left"})]}),e.jsx("div",{className:"text-lg font-mono font-semibold",children:N>0?X(N):"â€”"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:"Active"})]}),e.jsx("div",{className:"text-lg font-semibold",children:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Completed"})]}),e.jsx("div",{className:"text-lg font-semibold text-green-600",children:t})]})]}),$&&e.jsxs("div",{className:"pt-4 border-t space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Detailed Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[R>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Peak Speed:"}),e.jsx("span",{className:"font-mono",children:B(R)})]}),m>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(ke,{className:"h-3 w-3"}),"Chunked:"]}),e.jsx("span",{className:"font-mono",children:m})]}),a>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Failed:"}),e.jsx("span",{className:"font-mono text-red-600",children:a})]}),U>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(gs,{className:"h-3 w-3"}),"Space Saved:"]}),e.jsx("span",{className:"font-mono text-green-600",children:_(U)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(js,{className:"h-3 w-3"}),"Total Size:"]}),e.jsx("span",{className:"font-mono",children:_(d)})]}),d>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Efficiency:"}),e.jsxs("span",{className:"font-mono",children:[Math.round(u/d*100),"%"]})]})]}),w.length>5&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Speed History"}),e.jsx("div",{className:"flex items-end gap-1 h-12",children:w.slice(-20).map((b,I)=>{const k=R>0?b/R*100:0;return e.jsx("div",{className:"bg-primary/60 rounded-t-sm flex-1 min-w-[2px] transition-all duration-300",style:{height:`${k}%`},title:B(b)},I)})})]})]})]})]})},Hs=({files:s,onNewUpload:t,className:a})=>{const[p,d]=v.useState(new Set),{toast:u}=be(),g=n=>{if(n===0)return"0 Bytes";const D=1024,j=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(n)/Math.log(D));return parseFloat((n/Math.pow(D,N)).toFixed(2))+" "+j[N]},x=async(n,D)=>{try{await navigator.clipboard.writeText(n),d(j=>new Set(j).add(n)),u({title:"Copied!",description:`Download link for ${D} copied to clipboard`,variant:"default"}),setTimeout(()=>{d(j=>{const N=new Set(j);return N.delete(n),N})},3e3)}catch{u({title:"Copy Failed",description:"Failed to copy to clipboard",variant:"destructive"})}},m=async n=>{if(navigator.share)try{await navigator.share({title:`Download ${n.originalName}`,text:`Download ${n.originalName} from Fucking File Hosting`,url:n.downloadUrl})}catch{await x(n.downloadUrl,n.originalName)}else await x(n.downloadUrl,n.originalName)},U=n=>n.startsWith("image/")||n.startsWith("video/")||n.startsWith("audio/")||n==="application/pdf"||n.startsWith("text/"),$=n=>n.startsWith("image/")?"ðŸ–¼ï¸":n.startsWith("video/")?"ðŸŽ¥":n.startsWith("audio/")?"ðŸŽµ":n.startsWith("text/")?"ðŸ“„":n.includes("pdf")?"ðŸ“•":n.includes("zip")||n.includes("rar")?"ðŸ“¦":"ðŸ“";return e.jsxs("div",{className:se("space-y-6",a),children:[e.jsxs(T,{className:"rounded-xl border border-border p-6 text-center shadow-md",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-green-400 to-green-500 shadow-lg dark:from-green-700 dark:to-green-600",children:e.jsx(ae,{className:"h-8 w-8 text-white"})})}),e.jsx("h2",{className:"mb-2 text-2xl font-bold text-foreground",children:"Upload Complete!"}),e.jsx("p",{className:"text-muted-foreground",children:s.length===1?"Your file has been uploaded successfully":`All ${s.length} files have been uploaded successfully`})]}),e.jsx("div",{className:"space-y-4",children:s.map(n=>e.jsx(T,{className:"rounded-xl border border-border p-6 shadow-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex min-w-0 flex-1 items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:$(n.mimeType)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"truncate font-semibold text-foreground",children:n.originalName}),e.jsxs("div",{className:"flex flex-wrap items-center space-x-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:g(n.fileSize)}),e.jsx("span",{children:n.mimeType}),n.isDuplicate&&e.jsxs(ye,{className:"bg-yellow-200 text-xs text-yellow-900 dark:bg-yellow-600 dark:text-yellow-50",children:["Duplicate - Saved ",g(n.spaceSaved||0)]})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Direct Download Link:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:n.downloadUrl,readOnly:!0,placeholder:"Download URL",className:"min-w-0 flex-1 rounded-md border border-border bg-background px-3 py-2 font-mono text-sm text-foreground"}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>x(n.downloadUrl,n.originalName),children:p.has(n.downloadUrl)?e.jsx(ae,{className:"h-4 w-4 text-green-500"}):e.jsx(Le,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(S,{onClick:()=>window.open(n.downloadUrl,"_blank"),className:"flex-1 bg-green-500 text-white shadow hover:bg-green-600 sm:flex-none",children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Download"]}),U(n.mimeType)&&n.previewUrl&&e.jsxs(S,{variant:"outline",onClick:()=>window.open(n.previewUrl,"_blank"),className:"flex-1 sm:flex-none",children:[e.jsx(vs,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsxs(S,{variant:"outline",onClick:()=>m(n),className:"flex-1 sm:flex-none",children:[e.jsx(fs,{className:"mr-2 h-4 w-4"}),"Share"]}),e.jsxs(S,{variant:"outline",onClick:()=>window.open(n.infoUrl||`/file/${n.fileId}`,"_blank"),className:"flex-1 sm:flex-none",children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),"File Info"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm sm:grid-cols-2",children:[e.jsx("div",{className:"rounded-lg border border-blue-300 bg-blue-50 p-3 dark:border-blue-500 dark:bg-blue-900/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Ne,{className:"mt-0.5 h-4 w-4 text-blue-700 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Download Manager Support"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Works with IDM, JDownloader, and other download managers."})]})]})}),n.expiresAt&&e.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-50 p-3 dark:border-red-500/40 dark:bg-red-900/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(je,{className:"mt-0.5 h-4 w-4 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-200",children:"Expires"}),e.jsxs("p",{className:"text-red-700 dark:text-red-300",children:["This file will expire on ",new Date(n.expiresAt).toLocaleDateString()," at"," ",new Date(n.expiresAt).toLocaleTimeString()]})]})]})}),n.deleteToken&&e.jsx("div",{className:"rounded-lg border border-red-500 bg-red-50 p-3 sm:col-span-2 dark:border-red-700 dark:bg-red-900/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(je,{className:"mt-0.5 h-4 w-4 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-200",children:"Owner Controls"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:"You can delete this file anytime from the file info page. Keep this link safe!"})]})]})})]})]})},n.fileId))}),e.jsxs(T,{className:"rounded-xl border border-border p-6 text-center shadow",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold text-foreground",children:"Upload Another File?"}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:"Upload more files with zero registration and complete privacy."}),e.jsxs(S,{onClick:t,variant:"outline",className:"hover:bg-accent",children:[e.jsx(we,{className:"mr-2 h-4 w-4"}),"Upload New File"]})]}),e.jsx(T,{className:"rounded-xl border border-border bg-muted/30 p-4",children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium",children:"ðŸ”’ Privacy & Security:"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-4",children:[e.jsx("li",{children:"Files are secured with cryptographic IDs"}),e.jsx("li",{children:"No IP addresses or personal data logged"}),e.jsx("li",{children:"Share links only with trusted people"}),e.jsx("li",{children:"Files auto-delete after expiration"})]})]})})]})},Ws=({onUploadStart:s,onUploadProgress:t,onUploadComplete:a,onUploadError:p,maxFileSize:d=100*1024*1024,allowedTypes:u,multiple:g=!0,className:x,disabled:m=!1,showExpirationSelector:U=!0,defaultExpirationDays:$=1,maxConcurrentUploads:n=3,enableBulkMode:D=!0})=>{const[j,N]=v.useState(!1),[F,w]=v.useState([]),[P,_]=v.useState(!1),[B,X]=v.useState($),[Q,z]=v.useState(0),[,R]=v.useState([]),[b,I]=v.useState(!1),[k,V]=v.useState([]),oe=v.useRef(null),{toast:W}=be();v.useEffect(()=>{F.length>0&&!F.some(l=>l.status==="uploading"||l.status==="pending")&&P&&(_(!1),z(0),R([]))},[F,P]);const te=()=>{I(!1),V([]),w([]),_(!1),z(0),R([])},E=v.useCallback(r=>{const l=[];for(const c of r)if(c.size>d&&l.push(`${c.name} exceeds the maximum file size of ${A(d)}`),u&&u.length>0){const o=c.name.split(".").pop()?.toLowerCase(),i=c.type.toLowerCase();u.some(C=>C.startsWith(".")?o===C.slice(1):i.startsWith(C))||l.push(`${c.name} is not an allowed file type`)}return{is_valid:l.length===0,errors:l,max_size:d,allowed_types:u}},[d,u]),A=r=>{if(r===0)return"0 Bytes";const l=1024,c=["Bytes","KB","MB","GB","TB"],o=Math.floor(Math.log(r)/Math.log(l));return parseFloat((r/Math.pow(l,o)).toFixed(2))+" "+c[o]},O=v.useCallback(async(r,l,c,o)=>{const i=Math.ceil(r.size/o);let y=0;const C=Date.now(),f=new AbortController;c({abortController:f,isChunked:!0,chunkInfo:{currentChunk:0,totalChunks:i,chunkSize:o},startTime:C});const h=await fetch("/api/upload/init",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({action:"initialize",original_name:r.name,total_size:r.size,chunk_size:o}),signal:f.signal});if(!h.ok){const L=await h.json();throw new Error(L.error?.message||"Failed to initialize chunked upload")}const J=await h.json();if(!J.success)throw new Error(J.error?.message||"Failed to initialize chunked upload");const{session_id:q}=J.data;c({chunkInfo:{currentChunk:0,totalChunks:i,chunkSize:o,sessionId:q}});for(let L=0;L<i;L++){if(f.signal.aborted)throw new Error("Upload cancelled");const le=L*o,ie=Math.min(le+o,r.size),he=r.slice(le,ie),M=new FormData;if(M.append("session_id",q),M.append("chunk_index",L.toString()),M.append("chunk",he),!(await fetch("/api/upload/chunk",{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:M,signal:f.signal})).ok)throw new Error(`Failed to upload chunk ${L+1}/${i}`);y++;const ls=y/i*100,fe=L===i-1?r.size:Math.min(y*o,r.size),Fe=Date.now(),_e=(Fe-C)/1e3,ge=_e>0?fe/_e:0,os=r.size-fe,is=ge>0?os/ge:0;c({progress:ls,uploadedBytes:fe,speed:ge,eta:is,chunkInfo:{currentChunk:y,totalChunks:i,chunkSize:o,sessionId:q},lastProgressTime:Fe})}c({progress:100,status:"uploading"}),r.size>100*1024*1024&&W({title:"Processing Large File",description:"Finalizing upload... This may take a few minutes for very large files.",variant:"default"});const Z=await fetch("/api/upload/finalize",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({session_id:q,expiration_days:B}),signal:f.signal});if(!Z.ok){if(Z.status===524)throw new Error("Upload finalization timed out. This can happen with very large files. Please try again or contact support if the issue persists.");try{const L=await Z.json();throw new Error(L.error?.message||"Failed to finalize upload")}catch{throw new Error(`Failed to finalize upload (HTTP ${Z.status})`)}}const H=await Z.json();c({status:"completed",progress:100,fileId:H.data.file_id,downloadUrl:H.data.download_url,previewUrl:H.data.preview_url,infoUrl:H.data.info_url,expiresAt:H.data.expires_at,uploadedBytes:r.size})},[B,W]),K=v.useCallback(async(r,l,c)=>{const o=new FormData;o.append("file",r),B!==null&&o.append("expiration_days",B.toString());const i=new XMLHttpRequest,y=Date.now();return c({xhr:i,isChunked:!1,startTime:y}),new Promise((C,f)=>{i.upload.addEventListener("progress",h=>{if(h.lengthComputable){const J=Date.now(),q=(J-y)/1e3,Z=h.loaded/h.total*100,H=q>0?h.loaded/q:0,L=h.total-h.loaded,le=H>0?L/H:0;c({progress:Z,uploadedBytes:h.loaded,speed:H,eta:le,lastProgressTime:J}),w(ie=>{const he=ie.map((M,De)=>De===l?{...M,progress:Z,uploadedBytes:h.loaded,speed:H,eta:le}:M);return t?.(he.map(M=>({file:M.file,progress:M.progress,status:M.status,error:M.error,uploaded_bytes:M.uploadedBytes,total_bytes:M.file.size,speed:M.speed,eta:M.eta}))),ie})}}),i.addEventListener("load",()=>{if(i.status===200)try{const h=JSON.parse(i.responseText);if(h.success)c({status:"completed",progress:100,fileId:h.data.file_id,downloadUrl:h.data.download_url,previewUrl:h.data.preview_url,infoUrl:h.data.info_url,expiresAt:h.data.expires_at,uploadedBytes:r.size,isDuplicate:h.data.is_duplicate,spaceSaved:h.data.space_saved}),h.data.is_duplicate&&W({title:"Duplicate File Detected",description:`This file already exists. Saved ${A(h.data.space_saved)} of storage space.`,variant:"default"}),C();else throw new Error(h.error?.message||"Upload failed")}catch(h){f(h)}else f(new Error(`HTTP ${i.status}: ${i.statusText}`))}),i.addEventListener("error",()=>{f(new Error("Network error occurred"))}),i.addEventListener("abort",()=>{f(new Error("Upload cancelled"))}),i.open("POST","/api/upload"),i.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""),i.send(o)})},[B,t,W]),G=v.useCallback(async(r,l)=>{const c=o=>{w(i=>i.map((y,C)=>C===l?{...y,...o}:y))};c({status:"uploading"});try{const i=await ee.getInstance().getUploadConfig();r.size>i.chunk_threshold?await O(r,l,c,i.chunk_size):await K(r,l,c)}catch(o){if(o instanceof Error&&(o.name==="AbortError"||o.message==="Upload cancelled")){c({status:"cancelled"});return}const i=o instanceof Error?o.message:"Upload failed";throw c({status:"error",error:i}),o}},[O,K]),re=v.useCallback(async r=>{const l=r.map((c,o)=>o);return R(l),new Promise((c,o)=>{let i=0,y=!1;const C=async()=>{if(y)return;let f;if(w(h=>(f=l.find(J=>{const q=h[J];return q&&q.status==="pending"}),h)),f===void 0){i===r.length&&c();return}z(h=>h>=n?h:h+1);try{await G(r[f],f),i++}catch(h){y=!0,o(h);return}finally{z(h=>h-1),setTimeout(C,10)}z(h=>(h<n-1&&setTimeout(C,10),h))};for(let f=0;f<Math.min(n,r.length);f++)setTimeout(C,f*50)})},[n,G]),ne=v.useCallback(async r=>{if(m||P)return;const l=Array.from(r),c=E(l);if(!c.is_valid){c.errors.forEach(i=>{W({title:"Upload Error",description:i,variant:"destructive"})}),p?.(c.errors.join(", "));return}const o=l.map(i=>({file:i,progress:0,status:"pending",uploadedBytes:0}));w(o),_(!0),s?.(l);try{D&&l.length>1?await re(l):await Promise.all(l.map((i,y)=>G(i,y))),setTimeout(()=>{w(i=>{const y=i.filter(f=>f.status==="completed"&&f.fileId).map(f=>f.fileId),C=i.filter(f=>f.status==="completed"&&f.fileId).map(f=>({fileId:f.fileId,originalName:f.file.name,downloadUrl:f.downloadUrl,previewUrl:f.previewUrl,infoUrl:f.infoUrl,expiresAt:f.expiresAt,fileSize:f.file.size,mimeType:f.file.type,isDuplicate:f.isDuplicate,spaceSaved:f.spaceSaved}));return V(C),I(!0),a?.(y),W({title:"Upload Complete",description:`Successfully uploaded ${C.length} file(s)`,variant:"success"}),i})},100)}catch(i){const y=i instanceof Error?i.message:"Upload failed";p?.(y),W({title:"Upload Failed",description:y,variant:"destructive"})}finally{setTimeout(()=>{w(i=>(i.some(C=>C.status==="uploading"||C.status==="pending")||(_(!1),z(0),R([])),i))},100)}},[m,P,E,s,p,W,D,re,G,a]),Ve=r=>{w(l=>l.map((o,i)=>i===r?(o.abortController&&o.abortController.abort(),o.xhr&&o.xhr.abort(),{...o,status:"cancelled"}):o)),setTimeout(()=>{w(l=>(l.some(o=>o.status==="uploading"||o.status==="pending")||(_(!1),z(0),R([])),l))},100)},Ge=r=>{w(l=>l.map((o,i)=>{if(i===r){if(o.status==="uploading")return o.abortController&&o.abortController.abort(),o.xhr&&o.xhr.abort(),{...o,status:"paused"};if(o.status==="paused")return{...o,status:"pending"}}return o}))},Je=async r=>{const l=F[r];if(!(!l||l.status!=="error")){w(c=>c.map((o,i)=>i===r?{...o,status:"pending",progress:0,error:void 0,uploadedBytes:0,speed:void 0,eta:void 0}:o));try{await G(l.file,r)}catch(c){console.error("Retry failed:",c)}}},Ze=r=>{w(l=>{const c=l.filter((o,i)=>i!==r);return c.length===0&&(_(!1),z(0),R([])),c})},Ye=()=>{w(r=>r.map(l=>l.status==="uploading"||l.status==="pending"?(l.abortController&&l.abortController.abort(),l.xhr&&l.xhr.abort(),{...l,status:"cancelled"}):l)),_(!1),z(0),R([])},Qe=()=>{w(r=>r.filter(l=>l.status!=="completed"))},es=async()=>{const r=F.map((c,o)=>({state:c,index:o})).filter(({state:c})=>c.status==="error").map(({index:c})=>c);if(r.length===0)return;w(c=>c.map((o,i)=>r.includes(i)?{...o,status:"pending",progress:0,error:void 0}:o));const l=r.map(c=>F[c].file);try{D&&l.length>1?await re(l):await Promise.all(r.map(c=>G(F[c].file,c)))}catch(c){console.error("Retry failed:",c)}},ss=v.useCallback(r=>{r.preventDefault(),r.stopPropagation(),N(!0)},[]),ts=v.useCallback(r=>{r.preventDefault(),r.stopPropagation(),N(!1)},[]),as=v.useCallback(r=>{r.preventDefault(),r.stopPropagation()},[]),rs=v.useCallback(r=>{r.preventDefault(),r.stopPropagation(),N(!1);const l=r.dataTransfer.files;l.length>0&&ne(l)},[ne]),Ue=()=>{!m&&!P&&oe.current?.click()},ns=r=>{const l=r.target.files;l&&l.length>0&&ne(l),r.target.value=""};return b&&k.length>0?e.jsx("div",{className:se("w-full",x),children:e.jsx(Hs,{files:k,onNewUpload:te,className:"space-y-6"})}):e.jsxs("div",{className:se("w-full",x),children:[e.jsx(T,{className:`relative transition-all duration-300 ease-in-out ${j?"scale-[1.02] border-primary bg-primary/5 shadow-lg":"hover:border-primary/50 hover:shadow-md"} ${m?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onDragEnter:ss,onDragLeave:ts,onDragOver:as,onDrop:rs,onClick:Ue,children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx(me,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:j?"Drop files here":"Upload your files"}),e.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:j?"Release to upload":`Drag and drop files here, or click to browse. Max file size: ${A(d)}`}),e.jsx("input",{ref:oe,type:"file",multiple:g,accept:u?.join(","),onChange:ns,className:"hidden",disabled:m||P}),e.jsx(S,{variant:"outline",disabled:m||P,onClick:r=>{r.stopPropagation(),Ue()},children:P?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"Choose Files"]})}),U&&!P&&e.jsxs("div",{className:"col mt-4 flex flex-col content-center items-center justify-center space-x-2",children:[e.jsxs("div",{className:"row mb-2 flex items-center",children:[e.jsx(pe,{size:16}),e.jsx(ms,{htmlFor:"expiration",className:"ml-2 text-sm",children:"File expiration"})]}),e.jsxs(ps,{value:B?.toString()||"never",onValueChange:r=>X(r==="never"?null:parseInt(r)),children:[e.jsx(us,{className:"w-32",children:e.jsx(xs,{})}),e.jsxs(hs,{children:[e.jsx(de,{value:"1",children:"1 day"}),e.jsx(de,{value:"7",children:"7 days"}),e.jsx(de,{value:"14",children:"14 days"}),e.jsx(de,{value:"30",children:"30 days"})]})]})]})]})}),F.length>0&&e.jsxs("div",{className:"mt-6 space-y-4",children:[F.length>1&&e.jsx(Vs,{states:F,activeUploads:Q}),F.length>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Upload Progress"}),e.jsx(Xs,{states:F,onCancelAll:Ye,onRemoveCompleted:Qe,onRetryFailed:es})]}),e.jsx("div",{className:"space-y-3",children:F.map((r,l)=>e.jsx(Ks,{state:r,onCancel:()=>Ve(l),onRemove:()=>Ze(l),onPauseResume:()=>Ge(l),onRetry:()=>Je(l),className:"fade-in",style:{animationDelay:`${l*.1}s`}},`${r.file.name}-${l}`))})]})]})},Ks=({state:s,onCancel:t,onRemove:a,onPauseResume:p,onRetry:d,className:u,style:g})=>e.jsx("div",{className:u,style:g,children:e.jsx(Os,{file:s.file,progress:s.progress,status:s.status,error:s.error,uploadedBytes:s.uploadedBytes,speed:s.speed,eta:s.eta,isChunked:s.isChunked,chunkInfo:s.chunkInfo,fileId:s.fileId,downloadUrl:s.downloadUrl,isDuplicate:s.isDuplicate,spaceSaved:s.spaceSaved,onCancel:t,onPauseResume:p,onRetry:d,onRemove:a})}),Xs=({states:s,onCancelAll:t,onRemoveCompleted:a,onRetryFailed:p})=>{const d=s.some(x=>x.status==="uploading"||x.status==="pending"),u=s.some(x=>x.status==="completed"),g=s.some(x=>x.status==="error");return e.jsxs("div",{className:"flex items-center space-x-2",children:[d&&e.jsx(S,{variant:"outline",size:"sm",onClick:t,children:"Cancel All"}),u&&e.jsx(S,{variant:"outline",size:"sm",onClick:a,children:"Clear Completed"}),g&&e.jsx(S,{variant:"outline",size:"sm",onClick:p,children:"Retry Failed"})]})},Vs=({states:s,activeUploads:t})=>{const a=s.length,p=s.filter(j=>j.status==="completed").length,d=s.filter(j=>j.status==="error").length,u=s.reduce((j,N)=>j+N.file.size,0),g=s.reduce((j,N)=>j+N.uploadedBytes,0),x=s.filter(j=>j.status==="uploading"&&j.speed).map(j=>j.speed),m=x.length>0?x.reduce((j,N)=>j+N,0):void 0,U=u-g,$=m&&m>0?U/m:void 0,n=s.filter(j=>j.isChunked).length,D=s.reduce((j,N)=>j+(N.spaceSaved||0),0);return e.jsx(qs,{totalFiles:a,completedFiles:p,failedFiles:d,activeUploads:t,totalBytes:u,uploadedBytes:g,overallSpeed:m,overallEta:$,chunkedUploads:n,spaceSaved:D,showDetailed:!0})};function xt({maxFileSize:s=100*1024*1024}){const[t,a]=v.useState([]),{toast:p}=be(),d=m=>{p({title:"Upload Started",description:`Starting upload of ${m.length} file(s)`})},u=m=>{a(U=>[...U,...m]),p({title:"Upload Complete",description:`Successfully uploaded ${m.length} file(s)`,variant:"default"})},g=m=>{p({title:"Upload Failed",description:m,variant:"destructive"})},x=m=>{if(m===0)return"0 Bytes";const U=1024,$=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(m)/Math.log(U));return parseFloat((m/Math.pow(U,n)).toFixed(2))+" "+$[n]};return e.jsx(Ns,{title:"Fucking File - Upload Files Instantly, No Registration Required",description:`Upload files up to ${x(s)} instantly with complete privacy. No registration, no tracking, no bullshit. Secure anonymous file hosting with cryptographic protection.`,image:"/images/og-upload.png",children:e.jsxs("div",{className:"container-responsive py-8 sm:py-12 lg:py-16",children:[e.jsxs("div",{className:"mb-8 text-center fade-in sm:mb-12 lg:mb-16",children:[e.jsxs("h1",{className:"text-responsive-xl mb-3 leading-tight font-bold sm:mb-4 lg:mb-6",children:[e.jsx("span",{className:"gradient-primary-text",children:"Fucking"})," File Hosting"]}),e.jsxs("p",{className:"text-responsive-md mx-auto mb-4 max-w-2xl px-2 leading-relaxed text-muted-foreground sm:mb-6 sm:px-4",children:["Upload files up to ",e.jsx("span",{className:"font-semibold text-primary",children:x(s)})," instantly. No registration, no tracking, no bullshit. Just blazing fast file sharing with complete privacy and download manager support."]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-xs text-muted-foreground sm:gap-4 sm:text-sm lg:gap-6",children:[e.jsxs("div",{className:"flex cursor-default items-center space-x-1.5 transition-colors hover:text-foreground sm:space-x-2",children:[e.jsx("div",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-green-500 sm:h-2 sm:w-2"}),e.jsx("span",{children:"Unlimited Speed"})]}),e.jsxs("div",{className:"flex cursor-default items-center space-x-1.5 transition-colors hover:text-foreground sm:space-x-2",children:[e.jsx("div",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-blue-500 sm:h-2 sm:w-2"}),e.jsx("span",{children:"Zero Tracking"})]}),e.jsxs("div",{className:"flex cursor-default items-center space-x-1.5 transition-colors hover:text-foreground sm:space-x-2",children:[e.jsx("div",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-purple-500 sm:h-2 sm:w-2"}),e.jsx("span",{children:"No Registration"})]})]})]}),e.jsx("div",{className:"mb-12 sm:mb-16 lg:mb-20",children:e.jsx(Ws,{onUploadStart:d,onUploadComplete:u,onUploadError:g,maxFileSize:s,defaultExpirationDays:1,multiple:!0,disabled:!1,className:"slide-in-up mx-auto max-w-5xl"})}),e.jsx("section",{id:"features",className:"mb-12 sm:mb-16 lg:mb-20",children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsxs("h2",{className:"text-responsive-lg mb-6 text-center font-bold sm:mb-8 lg:mb-12",children:["Why Choose ",e.jsx("span",{className:"gradient-primary-text",children:"Fucking File Hosting"}),"?"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(T,{className:"card-interactive hover-lift group p-4 text-center sm:p-6 lg:p-8",children:[e.jsx("div",{className:"mb-3 flex justify-center sm:mb-4 lg:mb-6",children:e.jsx("div",{className:"bg-gradient-primary gradient-hover group-hover:pulse-glow flex h-12 w-12 items-center justify-center rounded-full transition-all duration-300 sm:h-16 sm:w-16 lg:h-20 lg:w-20",children:e.jsx(ke,{className:"h-6 w-6 text-white transition-transform duration-300 group-hover:scale-110 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold transition-colors group-hover:text-primary sm:mb-3 sm:text-xl lg:mb-4 lg:text-2xl",children:"Blazing Speed"}),e.jsx("p",{className:"mb-3 text-sm leading-relaxed text-muted-foreground sm:mb-4 sm:text-base lg:mb-6",children:"No speed limits, no throttling. Upload and download at maximum speed with chunked uploads for files over 25MB. Compatible with IDM and other download managers."}),e.jsxs("div",{className:"space-y-1.5 text-xs sm:space-y-2 sm:text-sm",children:[e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"Upload Speed:"}),e.jsx("span",{className:"font-semibold text-primary",children:"Unlimited"})]}),e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"Download Speed:"}),e.jsx("span",{className:"font-semibold text-primary",children:"Unlimited"})]}),e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"Max File Size:"}),e.jsx("span",{className:"font-semibold text-primary",children:x(s)})]})]})]}),e.jsxs(T,{className:"card-interactive hover-lift group p-4 text-center sm:p-6 lg:p-8",children:[e.jsx("div",{className:"mb-3 flex justify-center sm:mb-4 lg:mb-6",children:e.jsx("div",{className:"bg-gradient-primary gradient-hover group-hover:pulse-glow flex h-12 w-12 items-center justify-center rounded-full transition-all duration-300 sm:h-16 sm:w-16 lg:h-20 lg:w-20",children:e.jsx(ws,{className:"h-6 w-6 text-white transition-transform duration-300 group-hover:scale-110 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold transition-colors group-hover:text-primary sm:mb-3 sm:text-xl lg:mb-4 lg:text-2xl",children:"Complete Privacy"}),e.jsx("p",{className:"mb-3 text-sm leading-relaxed text-muted-foreground sm:mb-4 sm:text-base lg:mb-6",children:"Zero tracking, no IP logging, no personal data collection. Your files are secured with cryptographic IDs."}),e.jsxs("div",{className:"space-y-1.5 text-xs sm:space-y-2 sm:text-sm",children:[e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"IP Logging:"}),e.jsx("span",{className:"font-semibold text-green-500",children:"None"})]}),e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"User Tracking:"}),e.jsx("span",{className:"font-semibold text-green-500",children:"None"})]}),e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"Analytics:"}),e.jsx("span",{className:"font-semibold text-green-500",children:"None"})]})]})]}),e.jsxs(T,{className:"card-interactive hover-lift group p-4 text-center sm:p-6 lg:p-8 md:col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"mb-3 flex justify-center sm:mb-4 lg:mb-6",children:e.jsx("div",{className:"bg-gradient-primary gradient-hover group-hover:pulse-glow flex h-12 w-12 items-center justify-center rounded-full transition-all duration-300 sm:h-16 sm:w-16 lg:h-20 lg:w-20",children:e.jsx(ae,{className:"h-6 w-6 text-white transition-transform duration-300 group-hover:scale-110 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold transition-colors group-hover:text-primary sm:mb-3 sm:text-xl lg:mb-4 lg:text-2xl",children:"Radical Simplicity"}),e.jsx("p",{className:"mb-3 text-sm leading-relaxed text-muted-foreground sm:mb-4 sm:text-base lg:mb-6",children:"No registration, no accounts, no complexity. Just drag, drop, and share. Get your download link instantly with preview and direct download options."}),e.jsxs("div",{className:"space-y-1.5 text-xs sm:space-y-2 sm:text-sm",children:[e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"Registration:"}),e.jsx("span",{className:"font-semibold text-green-500",children:"Not Required"})]}),e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"Setup Time:"}),e.jsx("span",{className:"font-semibold text-primary",children:"0 seconds"})]}),e.jsxs("div",{className:"flex cursor-default items-center justify-between rounded px-2 py-1 transition-colors hover:bg-secondary/50",children:[e.jsx("span",{children:"Complexity:"}),e.jsx("span",{className:"font-semibold text-green-500",children:"Zero"})]})]})]})]})]})}),e.jsx("section",{id:"api",className:"mb-12 sm:mb-16 lg:mb-20",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("h2",{className:"text-responsive-lg mb-6 text-center font-bold sm:mb-8 lg:mb-12",children:["Developer ",e.jsx("span",{className:"gradient-primary-text",children:"API"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 lg:grid-cols-2",children:[e.jsxs(T,{className:"card-interactive hover-lift group p-4 sm:p-6 lg:p-8",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold transition-colors group-hover:text-primary sm:mb-4 sm:text-xl lg:mb-6 lg:text-2xl",children:"Upload via curl"}),e.jsx("div",{className:"cursor-pointer rounded-lg bg-secondary/80 p-3 transition-colors duration-200 group-hover:scale-[1.02] hover:bg-secondary sm:p-4 lg:p-6",children:e.jsxs("code",{className:"font-mono text-xs leading-relaxed sm:text-sm lg:text-base",children:[e.jsx("span",{className:"text-primary",children:"curl"})," -X POST \\",e.jsx("br",{}),"Â Â -F ",e.jsx("span",{className:"text-green-400",children:'"file=@example.pdf"'})," \\",e.jsx("br",{}),"Â Â ",e.jsxs("span",{className:"text-blue-400",children:[typeof window<"u"?window.location.origin:"","/api/upload"]})]})}),e.jsxs("p",{className:"mt-3 text-xs leading-relaxed text-muted-foreground sm:mt-4 sm:text-sm lg:mt-6 lg:text-base",children:["Returns JSON with ",e.jsx("span",{className:"font-medium text-primary",children:"file_id"})," and"," ",e.jsx("span",{className:"font-medium text-primary",children:"download_url"})," for immediate sharing."]})]}),e.jsxs(T,{className:"card-interactive hover-lift group p-4 sm:p-6 lg:p-8",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold transition-colors group-hover:text-primary sm:mb-4 sm:text-xl lg:mb-6 lg:text-2xl",children:"Download Files"}),e.jsx("div",{className:"cursor-pointer rounded-lg bg-secondary/80 p-3 transition-colors duration-200 group-hover:scale-[1.02] hover:bg-secondary sm:p-4 lg:p-6",children:e.jsxs("code",{className:"font-mono text-xs leading-relaxed sm:text-sm lg:text-base",children:[e.jsx("span",{className:"text-primary",children:"curl"})," -O \\",e.jsx("br",{}),"Â Â ",e.jsxs("span",{className:"text-blue-400",children:[typeof window<"u"?window.location.origin:"","/f/[file_id]"]})]})}),e.jsxs("p",{className:"mt-3 text-xs leading-relaxed text-muted-foreground sm:mt-4 sm:text-sm lg:mt-6 lg:text-base",children:["Direct download with proper headers and ",e.jsx("span",{className:"font-medium text-primary",children:"range request"})," support."]})]})]}),e.jsx("div",{className:"mt-8 text-center sm:mt-12",children:e.jsx(S,{variant:"outline",asChild:!0,className:"btn-hover-scale focus-ring cursor-pointer",children:e.jsxs("a",{href:"/docs/api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2",children:[e.jsx("span",{children:"View Full API Documentation"}),e.jsx("svg",{className:"h-4 w-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})})]})}),t.length>0&&e.jsx("section",{className:"slide-in-up mb-16 sm:mb-20 lg:mb-24",children:e.jsxs("div",{className:"mx-auto max-w-5xl",children:[e.jsxs("h2",{className:"text-responsive-lg mb-8 text-center font-bold sm:mb-12",children:["Your Recent ",e.jsx("span",{className:"gradient-primary-text",children:"Uploads"})]}),e.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.map((m,U)=>e.jsx(T,{className:"card-interactive hover-lift p-4 fade-in sm:p-6",style:{animationDelay:`${U*.1}s`},children:e.jsxs("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"mb-2 text-lg font-medium",children:["File ID: ",e.jsx("span",{className:"font-mono text-primary",children:m})]}),e.jsxs("p",{className:"text-sm break-all text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Download URL:"}),e.jsxs("span",{className:"ml-2 text-primary",children:[typeof window<"u"?window.location.origin:"","/f/",m]})]})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx(S,{variant:"outline",size:"sm",asChild:!0,className:"btn-hover-scale focus-ring cursor-pointer",onClick:()=>navigator.clipboard.writeText(`${typeof window<"u"?window.location.origin:""}/f/${m}`),children:e.jsxs("button",{type:"button",className:"inline-flex items-center space-x-2",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]})}),e.jsx(S,{variant:"outline",size:"sm",asChild:!0,className:"btn-hover-scale focus-ring cursor-pointer",children:e.jsxs("a",{href:`/file/${m}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2",children:[e.jsx("span",{children:"View Details"}),e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})]})},m))})]})})]})})}export{xt as default};
