# 4. Deployment Guide

## Overview

This guide provides step-by-step instructions for deploying the Fucking File Hosting application to shared hosting environments with cPanel support.

## Pre-Deployment Checklist

- [ ] PHP 8.2+ available on hosting
- [ ] MySQL database or SQLite support
- [ ] Minimum 512MB RAM
- [ ] 1GB+ disk space
- [ ] SSL certificate configured

## Shared Hosting Deployment (cPanel)

### Step 1: Prepare Files

1. Download the application files
2. Extract to a local directory
3. Verify all files are present

### Step 2: Upload Files

1. Access cPanel File Manager
2. Navigate to `public_html` directory
3. Upload all application files
4. Extract if uploaded as archive

### Step 3: Database Setup

1. Create MySQL database in cPanel
2. Create database user
3. Assign user to database with full privileges
4. Note database credentials

### Step 4: Configuration

1. Copy `.env.example` to `.env`
2. Edit `.env` with your settings:
   ```env
   APP_NAME="Your File Hosting"
   APP_URL=https://yourdomain.com
   DB_CONNECTION=mysql
   DB_HOST=localhost
   DB_DATABASE=your_database
   DB_USERNAME=your_username
   DB_PASSWORD=your_password
   ```

### Step 5: Set Permissions

```bash
chmod 755 storage/
chmod 755 bootstrap/cache/
chmod 644 .env
```

### Step 6: Run Setup

1. Visit `https://yourdomain.com/setup`
2. Follow the setup wizard
3. Complete configuration

## VPS/Dedicated Server Deployment

### Ubuntu/Debian

```bash
# Install dependencies
sudo apt update
sudo apt install php8.2 php8.2-cli php8.2-fpm php8.2-mysql php8.2-sqlite3 php8.2-mbstring php8.2-xml php8.2-curl php8.2-gd php8.2-bcmath

# Install Composer
curl -sS https://getcomposer.org/installer | php
sudo mv composer.phar /usr/local/bin/composer

# Install application dependencies
composer install --optimize-autoloader --no-dev

# Set permissions
sudo chown -R www-data:www-data storage bootstrap/cache
sudo chmod -R 755 storage bootstrap/cache
```

### Web Server Configuration

#### Apache (.htaccess)

```apache
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [L]
```

#### Nginx

```nginx
location / {
    try_files $uri $uri/ /index.php?$query_string;
}

location ~ \.php$ {
    fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
    fastcgi_index index.php;
    fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
    include fastcgi_params;
}
```

## Post-Deployment

### Security Configuration

1. Set `APP_DEBUG=false` in production
2. Configure HTTPS
3. Set up security headers
4. Regular backups

### Performance Optimization

```bash
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

### Monitoring Setup

1. Configure log monitoring
2. Set up disk space alerts
3. Monitor upload/download rates
4. Regular health checks

## Troubleshooting Deployment

### Common Issues

**500 Internal Server Error**
- Check file permissions
- Verify `.htaccess` exists
- Check error logs

**Database Connection Failed**
- Verify credentials
- Check database privileges
- Confirm database host

**File Upload Issues**
- Check PHP upload limits
- Verify storage permissions
- Monitor disk space

### Getting Help

1. Check server error logs
2. Verify system requirements
3. Test with minimal configuration
4. Contact hosting support if needed